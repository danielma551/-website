(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(7052)}])},7052:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Home}});var r=o(5893),a=o(5379),n=o.n(a),s=o(7294),i=o(9207),l=o(8029),c=o(6459),d=o(8186),f=o(3636),m=o(8491),x=o(232),h=o(1089),g=o(5715),p=o(1215),u=o(2553),b=o(6938),j=o(92),y=o(2206),C=o(4032),w=o(243),S=o(5478),v=o(9342),z=o(573),k=o(3229),D=o(8387),I=o(6312),M=o(8436),E=o(6689),F=o(9131),_=o(4703),L=o(1901),N=o(7167),T=o(4476),A=o(6007),U=o(3416),H=o(3148),R=o(6495),B=o(6941),W=o(5105),O=o(5582),X=o(7777),G=o(3564);H.kL.register(H.uw,H.f$,H.od,H.jn,H.ZL,H.Dx,H.u,H.De);let J=(0,i.B1)({colors:{brand:{50:"#E6FFFA",100:"#B2F5EA",500:"#38B2AC",900:"#234E52"},coffee:{50:"#F5EDE7",100:"#E6D2C3",200:"#D7B79F",300:"#C89C7B",400:"#B98157",500:"#A96733",600:"#87522A",700:"#653E20",800:"#422915",900:"#21150B"}},fonts:{heading:"Inter, sans-serif",body:"Inter, sans-serif"},styles:{global:{body:{bg:"#F5EDE7",color:"gray.800"}}}}),Y=["2024-01-01","2024-02-10","2024-02-11","2024-02-12","2024-02-13","2024-03-29","2024-03-30","2024-04-01","2024-04-04","2024-05-01","2024-05-15","2024-06-10","2024-07-01","2024-09-17","2024-10-01","2024-10-17","2024-12-25","2024-12-26"],Z=["2025-01-01","2025-01-29","2025-01-30","2025-01-31","2025-04-04","2025-04-18","2025-04-19","2025-04-21","2025-05-01","2025-05-05","2025-05-31","2025-07-01","2025-10-01","2025-10-07","2025-10-29","2025-12-25","2025-12-26"],V={"2024-01-01":"元旦","2024-02-10":"农历年初一","2024-02-11":"农历年初二","2024-02-12":"农历年初三","2024-02-13":"农历年初四","2024-03-29":"耶稣受难节","2024-03-30":"耶稣受难节翌日","2024-04-01":"复活节星期一","2024-04-04":"清明节","2024-05-01":"劳动节","2024-05-15":"佛诞","2024-06-10":"端午节","2024-07-01":"香港特别行政区成立纪念日","2024-09-17":"中秋节","2024-10-01":"国庆日","2024-10-17":"重阳节","2024-12-25":"圣诞节","2024-12-26":"圣诞节翌日","2025-01-01":"元旦","2025-01-29":"农历年初一","2025-01-30":"农历年初二","2025-01-31":"农历年初三","2025-04-04":"清明节","2025-04-18":"耶稣受难节","2025-04-19":"耶稣受难节翌日","2025-04-21":"复活节星期一","2025-05-01":"劳动节","2025-05-05":"佛诞","2025-05-31":"端午节","2025-07-01":"香港特别行政区成立纪念日","2025-10-01":"国庆日","2025-10-07":"中秋节翌日","2025-10-29":"重阳节","2025-12-25":"圣诞节","2025-12-26":"圣诞节后第一个周日"},formatDate=e=>{let t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(o,"-").concat(r)},AnimationStyles=()=>(0,r.jsx)(n(),{id:"c28c568183f49290",children:"@-webkit-keyframes bounce{0%,100%{-webkit-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(-20px);transform:translatey(-20px)}}@-moz-keyframes bounce{0%,100%{-moz-transform:translatey(0);transform:translatey(0)}50%{-moz-transform:translatey(-20px);transform:translatey(-20px)}}@-o-keyframes bounce{0%,100%{-o-transform:translatey(0);transform:translatey(0)}50%{-o-transform:translatey(-20px);transform:translatey(-20px)}}@keyframes bounce{0%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(-20px);-moz-transform:translatey(-20px);-o-transform:translatey(-20px);transform:translatey(-20px)}}@-webkit-keyframes wiggle{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}25%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}75%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}}@-moz-keyframes wiggle{0%,100%{-moz-transform:rotate(0);transform:rotate(0)}25%{-moz-transform:rotate(-5deg);transform:rotate(-5deg)}75%{-moz-transform:rotate(5deg);transform:rotate(5deg)}}@-o-keyframes wiggle{0%,100%{-o-transform:rotate(0);transform:rotate(0)}25%{-o-transform:rotate(-5deg);transform:rotate(-5deg)}75%{-o-transform:rotate(5deg);transform:rotate(5deg)}}@keyframes wiggle{0%,100%{-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0)}25%{-webkit-transform:rotate(-5deg);-moz-transform:rotate(-5deg);-o-transform:rotate(-5deg);transform:rotate(-5deg)}75%{-webkit-transform:rotate(5deg);-moz-transform:rotate(5deg);-o-transform:rotate(5deg);transform:rotate(5deg)}}@-webkit-keyframes float{0%,100%{-webkit-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(-15px);transform:translatey(-15px)}}@-moz-keyframes float{0%,100%{-moz-transform:translatey(0);transform:translatey(0)}50%{-moz-transform:translatey(-15px);transform:translatey(-15px)}}@-o-keyframes float{0%,100%{-o-transform:translatey(0);transform:translatey(0)}50%{-o-transform:translatey(-15px);transform:translatey(-15px)}}@keyframes float{0%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(-15px);-moz-transform:translatey(-15px);-o-transform:translatey(-15px);transform:translatey(-15px)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes steam{0%,100%{opacity:.3;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{opacity:.5;-webkit-transform:translatey(-10px)scale(1.2);transform:translatey(-10px)scale(1.2)}}@-moz-keyframes steam{0%,100%{opacity:.3;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{opacity:.5;-moz-transform:translatey(-10px)scale(1.2);transform:translatey(-10px)scale(1.2)}}@-o-keyframes steam{0%,100%{opacity:.3;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{opacity:.5;-o-transform:translatey(-10px)scale(1.2);transform:translatey(-10px)scale(1.2)}}@keyframes steam{0%,100%{opacity:.3;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}50%{opacity:.5;-webkit-transform:translatey(-10px)scale(1.2);-moz-transform:translatey(-10px)scale(1.2);-o-transform:translatey(-10px)scale(1.2);transform:translatey(-10px)scale(1.2)}}.bounce-animation{-webkit-animation:bounce 4s ease-in-out infinite;-moz-animation:bounce 4s ease-in-out infinite;-o-animation:bounce 4s ease-in-out infinite;animation:bounce 4s ease-in-out infinite}.wiggle-animation{-webkit-animation:wiggle 3s ease-in-out infinite;-moz-animation:wiggle 3s ease-in-out infinite;-o-animation:wiggle 3s ease-in-out infinite;animation:wiggle 3s ease-in-out infinite}.float-animation{-webkit-animation:float 6s ease-in-out infinite;-moz-animation:float 6s ease-in-out infinite;-o-animation:float 6s ease-in-out infinite;animation:float 6s ease-in-out infinite}.steam-animation{-webkit-animation:steam 3s ease-in-out infinite;-moz-animation:steam 3s ease-in-out infinite;-o-animation:steam 3s ease-in-out infinite;animation:steam 3s ease-in-out infinite}.spin-animation{-webkit-animation:spin 10s linear infinite;-moz-animation:spin 10s linear infinite;-o-animation:spin 10s linear infinite;animation:spin 10s linear infinite}.calendar-container{-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.calendar-container:hover{-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-ms-transform:scale(1.02);-o-transform:scale(1.02);transform:scale(1.02);-webkit-box-shadow:0px 8px 30px rgba(0,0,0,.15);-moz-box-shadow:0px 8px 30px rgba(0,0,0,.15);box-shadow:0px 8px 30px rgba(0,0,0,.15)}"}),TotoroIcon=e=>{let{boxSize:t}=e;return(0,r.jsx)(l.x,{width:t,height:t,children:(0,r.jsxs)("svg",{viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M100 180C144.183 180 180 144.183 180 100C180 55.8172 144.183 20 100 20C55.8172 20 20 55.8172 20 100C20 144.183 55.8172 180 100 180Z",fill:"#92908E"}),(0,r.jsx)("path",{d:"M65 80C71.0751 80 76 75.0751 76 69C76 62.9249 71.0751 58 65 58C58.9249 58 54 62.9249 54 69C54 75.0751 58.9249 80 65 80Z",fill:"white"}),(0,r.jsx)("path",{d:"M68 69C69.6569 69 71 67.6569 71 66C71 64.3431 69.6569 63 68 63C66.3431 63 65 64.3431 65 66C65 67.6569 66.3431 69 68 69Z",fill:"#333333"}),(0,r.jsx)("path",{d:"M135 80C141.075 80 146 75.0751 146 69C146 62.9249 141.075 58 135 58C128.925 58 124 62.9249 124 69C124 75.0751 128.925 80 135 80Z",fill:"white"}),(0,r.jsx)("path",{d:"M132 69C133.657 69 135 67.6569 135 66C135 64.3431 133.657 63 132 63C130.343 63 129 64.3431 129 66C129 67.6569 130.343 69 132 69Z",fill:"#333333"}),(0,r.jsx)("path",{d:"M85 100L100 115L115 100",stroke:"#333333",strokeWidth:"3",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M75 40L85 20",stroke:"#333333",strokeWidth:"3",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M125 40L115 20",stroke:"#333333",strokeWidth:"3",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M65 135C75 155 125 155 135 135",fill:"#FFFFFF"})]})})},GrassLeaf=e=>{let{bottom:t,left:o,rotation:a,height:n,delay:s=0}=e;return(0,r.jsx)(l.x,{position:"absolute",bottom:t,left:o,height:n,width:"15px",borderRadius:"0 100% 0 100%",bg:"green.300",transform:"rotate(".concat(a,"deg)"),transformOrigin:"bottom",opacity:.7,className:"wiggle-animation",style:{animationDelay:"".concat(s,"s")},zIndex:1})},SootSprite=e=>{let{top:t,left:o,size:a,delay:n=0}=e;return(0,r.jsx)(l.x,{position:"absolute",top:t,left:o,width:a,height:a,borderRadius:"50%",bg:"gray.800",className:"float-animation",style:{animationDelay:"".concat(n,"s")},opacity:.6,zIndex:1,children:(0,r.jsx)(l.x,{position:"absolute",top:"20%",left:"20%",width:"30%",height:"30%",borderRadius:"50%",bg:"white",opacity:.5})})},GrassLeaves=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(GrassLeaf,{bottom:"0",left:"5%",rotation:"15",height:"100px",delay:.5}),(0,r.jsx)(GrassLeaf,{bottom:"0",left:"10%",rotation:"-10",height:"80px",delay:.2}),(0,r.jsx)(GrassLeaf,{bottom:"0",left:"15%",rotation:"20",height:"120px",delay:.8}),(0,r.jsx)(GrassLeaf,{bottom:"0",left:"75%",rotation:"-15",height:"90px",delay:.3}),(0,r.jsx)(GrassLeaf,{bottom:"0",left:"80%",rotation:"10",height:"110px",delay:.7}),(0,r.jsx)(GrassLeaf,{bottom:"0",left:"90%",rotation:"-5",height:"70px",delay:.1})]}),DustSprites=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(SootSprite,{top:"20%",left:"5%",size:"10px",delay:.5}),(0,r.jsx)(SootSprite,{top:"30%",left:"15%",size:"8px",delay:1.2}),(0,r.jsx)(SootSprite,{top:"15%",left:"25%",size:"12px",delay:.8}),(0,r.jsx)(SootSprite,{top:"40%",left:"80%",size:"9px",delay:.3}),(0,r.jsx)(SootSprite,{top:"25%",left:"85%",size:"11px",delay:1.5}),(0,r.jsx)(SootSprite,{top:"35%",left:"90%",size:"7px",delay:.7})]}),TotoroFamily=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.x,{position:"absolute",bottom:"30px",right:"100px",className:"bounce-animation",zIndex:1,cursor:"pointer",_hover:{transform:"scale(1.1)"},transition:"transform 0.3s",children:(0,r.jsx)(TotoroIcon,{boxSize:"120px"})}),(0,r.jsx)(l.x,{position:"absolute",bottom:"20px",right:"220px",className:"float-animation",zIndex:1,cursor:"pointer",_hover:{transform:"scale(1.1)"},transition:"transform 0.3s",style:{animationDelay:"0.5s"},children:(0,r.jsx)(TotoroIcon,{boxSize:"80px"})}),(0,r.jsx)(l.x,{position:"absolute",bottom:"15px",right:"300px",className:"wiggle-animation",zIndex:1,cursor:"pointer",_hover:{transform:"scale(1.1)"},transition:"transform 0.3s",style:{animationDelay:"0.3s"},children:(0,r.jsx)(TotoroIcon,{boxSize:"50px"})})]}),CoffeeIcon=e=>{let{boxSize:t,color:o="coffee.600"}=e;return(0,r.jsx)(l.x,{width:t,height:t,children:(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18 8H19C21.2091 8 23 9.79086 23 12C23 14.2091 21.2091 16 19 16H18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M2 8H18V17C18 19.2091 16.2091 21 14 21H6C3.79086 21 2 19.2091 2 17V8Z",fill:"currentColor",opacity:"0.4"}),(0,r.jsx)("path",{d:"M6 1V4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M10 1V4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M14 1V4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})},CoffeeCup=e=>{let{position:t="absolute",top:o,right:a,left:n,bottom:s,size:i="60px",delay:c=0}=e;return(0,r.jsx)(l.x,{position:t,top:o,right:a,left:n,bottom:s,width:i,height:i,zIndex:1,className:"float-animation",style:{animationDelay:"".concat(c,"s")},children:(0,r.jsxs)(l.x,{position:"relative",children:[(0,r.jsx)(l.x,{position:"absolute",top:"-15px",left:"50%",transform:"translateX(-50%)",width:"20px",height:"8px",borderRadius:"50%",bg:"coffee.200",className:"steam-animation",style:{animationDelay:"".concat(c+.2,"s")}}),(0,r.jsx)(l.x,{position:"absolute",top:"-15px",left:"35%",transform:"translateX(-50%)",width:"10px",height:"6px",borderRadius:"50%",bg:"coffee.200",className:"steam-animation",style:{animationDelay:"".concat(c+.5,"s")}}),(0,r.jsx)(l.x,{position:"absolute",top:"-15px",left:"65%",transform:"translateX(-50%)",width:"15px",height:"7px",borderRadius:"50%",bg:"coffee.200",className:"steam-animation",style:{animationDelay:"".concat(c+.8,"s")}}),(0,r.jsx)(CoffeeIcon,{boxSize:i,color:"coffee.600"})]})})},CoffeeElements=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(CoffeeCup,{top:"15%",left:"5%",size:"40px",delay:.3}),(0,r.jsx)(CoffeeCup,{top:"40%",left:"10%",size:"30px",delay:.7}),(0,r.jsx)(CoffeeCup,{top:"25%",right:"5%",size:"50px",delay:.5}),(0,r.jsx)(CoffeeCup,{top:"60%",right:"8%",size:"35px",delay:.2})]});function Home(){let[e,t]=(0,s.useState)(0),[o,a]=(0,s.useState)(1e3),[n,i]=(0,s.useState)("remittance"),[H,P]=(0,s.useState)({remittance:0,aml:0,collectChgs:0}),[$,Q]=(0,s.useState)({remittance:0,aml:0,collectChgs:0}),[q,K]=(0,s.useState)([]),[ee,et]=(0,s.useState)("7"),[eo,er]=(0,s.useState)([]),[ea,en]=(0,s.useState)(new Date),[es,ei]=(0,s.useState)(new Date),el=(0,c.p)();(0,s.useEffect)(()=>{{let e=localStorage.getItem("monthlySalary");e&&t(Number(e));let o=localStorage.getItem("dailySalary");o&&a(Number(o));let r=localStorage.getItem("remittanceRecords");r&&K(JSON.parse(r));let n=localStorage.getItem("holidays");n&&er(JSON.parse(n))}},[]),(0,s.useEffect)(()=>{let e=H.remittance+H.aml+H.collectChgs;e>0&&Q({remittance:H.remittance>0?o/e:0,aml:H.aml>0?o/e:0,collectChgs:H.collectChgs>0?o/e:0})},[o,H]);let calculateWorkingDays=()=>{let e=ea.getFullYear(),t=ea.getMonth(),o=new Date(e,t+1,0).getDate(),r=0;for(let a=1;a<=o;a++){let o=new Date(e,t,a),n=formatDate(o),s=0===o.getDay()||6===o.getDay(),i=Y.includes(n)||Z.includes(n)||eo.includes(n);!s&&!i&&r++}return r},ec=(()=>{let e=new Date,t=parseInt(ee),o=new Date(e.setDate(e.getDate()-t));return[...q].filter(e=>{let t=new Date(e.timestamp);return t>=o}).reverse()})(),ed={labels:ec.map(e=>e.date),datasets:[{label:"汇款数量",data:ec.map(e=>{var t;return(null===(t=e.counts)||void 0===t?void 0:t.remittance)||0}),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.5)",tension:.1},{label:"AML数量",data:ec.map(e=>{var t;return(null===(t=e.counts)||void 0===t?void 0:t.aml)||0}),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.5)",tension:.1},{label:"Collect Chgs数量",data:ec.map(e=>{var t;return(null===(t=e.counts)||void 0===t?void 0:t.collectChgs)||0}),borderColor:"rgb(249, 115, 22)",backgroundColor:"rgba(249, 115, 22, 0.5)",tension:.1}]},ef={labels:ec.map(e=>e.date),datasets:[{label:"汇款收益",data:ec.map(e=>{var t;return(null===(t=e.perItemEarning)||void 0===t?void 0:t.remittance)||0}),backgroundColor:"rgba(34, 197, 94, 0.5)"},{label:"AML收益",data:ec.map(e=>{var t;return(null===(t=e.perItemEarning)||void 0===t?void 0:t.aml)||0}),backgroundColor:"rgba(168, 85, 247, 0.5)"},{label:"Collect Chgs收益",data:ec.map(e=>{var t;return(null===(t=e.perItemEarning)||void 0===t?void 0:t.collectChgs)||0}),backgroundColor:"rgba(249, 115, 22, 0.5)"}]},em={totalCounts:{remittance:ec.reduce((e,t)=>{var o;return e+((null===(o=t.counts)||void 0===o?void 0:o.remittance)||0)},0),aml:ec.reduce((e,t)=>{var o;return e+((null===(o=t.counts)||void 0===o?void 0:o.aml)||0)},0),collectChgs:ec.reduce((e,t)=>{var o;return e+((null===(o=t.counts)||void 0===o?void 0:o.collectChgs)||0)},0)},avgCounts:{remittance:Math.round(ec.reduce((e,t)=>{var o;return e+((null===(o=t.counts)||void 0===o?void 0:o.remittance)||0)},0)/(ec.length||1)),aml:Math.round(ec.reduce((e,t)=>{var o;return e+((null===(o=t.counts)||void 0===o?void 0:o.aml)||0)},0)/(ec.length||1)),collectChgs:Math.round(ec.reduce((e,t)=>{var o;return e+((null===(o=t.counts)||void 0===o?void 0:o.collectChgs)||0)},0)/(ec.length||1))},avgEarnings:{remittance:ec.reduce((e,t)=>{var o;return e+((null===(o=t.perItemEarning)||void 0===o?void 0:o.remittance)||0)},0)/(ec.length||1),aml:ec.reduce((e,t)=>{var o;return e+((null===(o=t.perItemEarning)||void 0===o?void 0:o.aml)||0)},0)/(ec.length||1),collectChgs:ec.reduce((e,t)=>{var o;return e+((null===(o=t.perItemEarning)||void 0===o?void 0:o.collectChgs)||0)},0)/(ec.length||1)}},handleDateChange=e=>{let t=new Date(es);t.setDate(es.getDate()+e),ei(t)},formatDisplayDate=e=>{let t=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),a=["日","一","二","三","四","五","六"][e.getDay()];return"".concat(t,"年").concat(o,"月").concat(r,"日 星期").concat(a)},isHoliday=e=>{let t=formatDate(e),o=0===e.getDay()||6===e.getDay();return o||Y.includes(t)||Z.includes(t)||eo.includes(t)},generateCalendarDays=()=>{let e=ea.getFullYear(),t=ea.getMonth(),o=new Date(e,t,1),r=new Date(e,t+1,0),a=[],n=o.getDay()||7;n-=1;for(let o=n-1;o>=0;o--){let r=new Date(e,t,-o),n=formatDate(r);a.push({date:r,isCurrentMonth:!1,isHoliday:eo.includes(n)||isHoliday(r),dateStr:n})}for(let o=1;o<=r.getDate();o++){let r=new Date(e,t,o),n=formatDate(r);a.push({date:r,isCurrentMonth:!0,isHoliday:eo.includes(n)||isHoliday(r),dateStr:n})}let s=42-a.length;for(let o=1;o<=s;o++){let r=new Date(e,t+1,o),n=formatDate(r);a.push({date:r,isCurrentMonth:!1,isHoliday:eo.includes(n)||isHoliday(r),dateStr:n})}return a},handleDateClick=e=>{let t=formatDate(e),o=eo.includes(t)?eo.filter(e=>e!==t):[...eo,t];er(o),localStorage.setItem("holidays",JSON.stringify(o))},handleMonthChange=e=>{en(new Date(ea.setMonth(ea.getMonth()+e)))},handleDeleteRecord=e=>{if(window.confirm("确定要删除这条记录吗？")){let t=q.filter(t=>t.timestamp!==e);K(t),localStorage.setItem("remittanceRecords",JSON.stringify(t)),el({title:"已删除",description:"记录已成功删除",status:"success",duration:2e3,isClosable:!0})}},CurrencyIcon=e=>(0,r.jsx)(u.J,{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})});return(0,r.jsxs)(b.x,{theme:J,children:[(0,r.jsx)(AnimationStyles,{}),(0,r.jsxs)(l.x,{minH:"100vh",p:5,bgGradient:"linear(to-b, coffee.50, blue.50)",position:"relative",overflow:"hidden",_before:{content:'""',position:"absolute",bottom:0,left:0,right:0,height:"200px",background:"linear-gradient(to bottom, transparent, rgba(169,103,51,0.1))",zIndex:0},children:[(0,r.jsx)(GrassLeaves,{}),(0,r.jsx)(DustSprites,{}),(0,r.jsx)(TotoroFamily,{}),(0,r.jsx)(CoffeeElements,{}),(0,r.jsxs)(l.x,{maxW:"1200px",mx:"auto",position:"relative",zIndex:2,children:[(0,r.jsxs)(f.U,{spacing:4,mb:4,justifyContent:"center",children:[(0,r.jsx)(m.z,{leftIcon:(0,r.jsx)(B.w,{}),onClick:()=>handleDateChange(-1),colorScheme:"coffee",variant:"outline",children:"前一天"}),(0,r.jsx)(x.X,{size:"md",children:formatDisplayDate(es)}),(0,r.jsx)(m.z,{rightIcon:(0,r.jsx)(W.X,{}),onClick:()=>handleDateChange(1),colorScheme:"coffee",variant:"outline",children:"後一天"})]}),(0,r.jsxs)(h.M,{columns:{base:1,md:2},spacing:10,children:[(0,r.jsxs)(l.x,{children:[(0,r.jsxs)(l.x,{p:6,rounded:"lg",boxShadow:"md",bg:"white",mb:6,position:"relative",overflow:"hidden",borderTop:"4px solid",borderColor:"coffee.400",children:[(0,r.jsx)(l.x,{position:"absolute",top:"5px",right:"5px",className:isHoliday(es)?"bounce-animation":"",children:(0,r.jsx)(TotoroIcon,{boxSize:12})}),(0,r.jsx)(l.x,{position:"absolute",top:"5px",left:"5px",children:(0,r.jsx)(CoffeeIcon,{boxSize:8})}),(0,r.jsxs)(d.g,{spacing:6,mt:6,children:[(0,r.jsxs)(f.U,{w:"100%",children:[(0,r.jsx)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:"月薪（元）："}),(0,r.jsx)(y.I,{type:"number",value:e,onChange:e=>{let o=parseInt(e.target.value)||0;t(o),localStorage.setItem("monthlySalary",o.toString());let r=calculateWorkingDays(),n=r>0?Math.round(o/r):0;a(n),localStorage.setItem("dailySalary",n.toString())},placeholder:"输入月薪",size:"lg",leftElement:(0,r.jsx)(CurrencyIcon,{ml:2,color:"coffee.500"}),bg:"white",borderColor:"coffee.200",_hover:{borderColor:"coffee.300"},_focus:{borderColor:"coffee.400",boxShadow:"0 0 0 1px #B98157"}})]}),(0,r.jsxs)(f.U,{w:"100%",children:[(0,r.jsx)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:"日薪（元）："}),(0,r.jsx)(y.I,{type:"number",value:o,onChange:e=>{let t=parseInt(e.target.value)||0;a(t),localStorage.setItem("dailySalary",t.toString())},placeholder:"输入日薪",size:"lg",isReadOnly:e>0,leftElement:(0,r.jsx)(CurrencyIcon,{ml:2,color:"coffee.500"}),bg:"white",borderColor:"coffee.200",_hover:{borderColor:"coffee.300"},_focus:{borderColor:"coffee.400",boxShadow:"0 0 0 1px #B98157"}}),(0,r.jsx)(C.C,{colorScheme:"brown",bg:"coffee.100",color:"coffee.700",fontSize:"sm",children:e>0?"当月工作日：".concat(calculateWorkingDays(),"天"):""})]}),(0,r.jsxs)(f.U,{w:"100%",alignItems:"flex-start",children:[(0,r.jsx)(j.x,{w:"150px",fontSize:"lg",pt:2,color:"coffee.700",children:"工作类型："}),(0,r.jsxs)(d.g,{align:"stretch",spacing:4,flex:1,children:[(0,r.jsxs)(w.P,{value:n,onChange:e=>i(e.target.value),size:"lg",icon:(0,r.jsx)(O.n,{}),bg:"white",borderColor:"coffee.200",_hover:{borderColor:"coffee.300"},_focus:{borderColor:"coffee.400",boxShadow:"0 0 0 1px #B98157"},children:[(0,r.jsx)("option",{value:"remittance",children:"汇款处理"}),(0,r.jsx)("option",{value:"aml",children:"AML处理"}),(0,r.jsx)("option",{value:"collectChgs",children:"Collect Chgs"})]}),(0,r.jsx)(y.I,{type:"number",value:H[n],onChange:e=>{let t=parseInt(e.target.value)||0;P(e=>({...e,[n]:t}))},placeholder:"输入".concat("remittance"===n?"汇款":"aml"===n?"AML":"Collect Chgs","处理数量"),size:"lg",leftElement:(0,r.jsx)(X.r,{ml:2,color:"yellow.500"}),bg:"white",borderColor:"coffee.200",_hover:{borderColor:"coffee.300"},_focus:{borderColor:"coffee.400",boxShadow:"0 0 0 1px #B98157"}}),(0,r.jsxs)(f.U,{spacing:4,fontSize:"sm",color:"gray.600",children:[(0,r.jsx)(j.x,{children:"已输入："}),(0,r.jsxs)(C.C,{colorScheme:"green",children:["汇款 ",H.remittance," 笔"]}),(0,r.jsxs)(C.C,{colorScheme:"purple",children:["AML ",H.aml," 笔"]}),(0,r.jsxs)(C.C,{colorScheme:"orange",children:["Collect Chgs ",H.collectChgs," 笔"]})]})]})]})]})]}),isHoliday(es)?(0,r.jsx)(l.x,{w:"100%",p:8,borderWidth:1,borderRadius:"lg",bg:"rgba(255, 229, 229, 0.8)",backdropFilter:"blur(5px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.05)",position:"relative",overflow:"hidden",_after:{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(255,0,0,0.05) 0%, rgba(255,255,255,0) 70%)",pointerEvents:"none"},children:(0,r.jsxs)(d.g,{spacing:4,children:[(0,r.jsx)(l.x,{animation:"float 2s ease-in-out infinite",sx:{"@keyframes float":{"0%":{transform:"translateY(0)"},"50%":{transform:"translateY(-10px)"},"100%":{transform:"translateY(0)"}}},children:(0,r.jsx)(G.a,{boxSize:8,color:"red.400"})}),(0,r.jsxs)(j.x,{fontSize:"xl",color:"red.500",children:[formatDisplayDate(es),"是",(e=>{let t=formatDate(e);return V[t]?V[t]:0===e.getDay()?"周日":6===e.getDay()?"周六":eo.includes(t)?"个人休假日":""})(es),"，休息日"]}),(0,r.jsx)(j.x,{fontSize:"md",color:"gray.600",children:"休息日无需统计工作量"})]})}):(0,r.jsx)(l.x,{w:"100%",p:8,borderWidth:1,borderRadius:"lg",bg:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(5px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.05)",position:"relative",_before:{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, #B98157, #D7B79F)",borderTopRadius:"lg"},children:(0,r.jsxs)(d.g,{spacing:6,children:[(0,r.jsxs)(f.U,{w:"100%",children:[(0,r.jsx)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:"每项工作收益"}),(0,r.jsx)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:"今日总收益"})]}),(0,r.jsxs)(f.U,{w:"100%",children:[(0,r.jsxs)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:["汇款：",$.remittance.toFixed(2)," 元"]}),(0,r.jsxs)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:[o," 元"]})]}),(0,r.jsx)(f.U,{w:"100%",children:(0,r.jsxs)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:["AML：",$.aml.toFixed(2)," 元"]})}),(0,r.jsx)(f.U,{w:"100%",children:(0,r.jsxs)(j.x,{w:"150px",fontSize:"lg",color:"coffee.700",children:["Collect Chgs：",$.collectChgs.toFixed(2)," 元"]})})]})}),(0,r.jsx)(m.z,{colorScheme:"coffee",size:"lg",px:8,onClick:()=>{let e=H.remittance+H.aml+H.collectChgs;if(e<=0){el({title:"错误",description:"请输入有效的工作数量",status:"error",duration:3e3,isClosable:!0});return}let t={date:es.toLocaleDateString(),counts:{...H},salary:o,perItemEarning:{...$},timestamp:es.getTime()},r=[t,...q];K(r),localStorage.setItem("remittanceRecords",JSON.stringify(r)),P({remittance:0,aml:0,collectChgs:0}),el({title:"已保存",description:"今日工作统计：汇款 ".concat(H.remittance," 笔，AML ").concat(H.aml," 笔，收费处理 ").concat(H.collectChgs," 笔"),status:"success",duration:3e3,isClosable:!0})},isDisabled:isHoliday(es),leftIcon:(0,r.jsx)(CoffeeIcon,{boxSize:6}),_hover:{transform:"translateY(-2px)",boxShadow:"lg"},transition:"all 0.2s",children:"保存记录"})]}),(0,r.jsxs)(l.x,{p:6,rounded:"lg",boxShadow:"md",bg:"white",my:6,position:"relative",borderTop:"4px solid",borderColor:"coffee.400",children:[(0,r.jsxs)(f.U,{mb:4,children:[(0,r.jsx)(CoffeeIcon,{boxSize:6}),(0,r.jsx)(x.X,{size:"md",color:"coffee.700",children:"歷史記錄"})]}),(0,r.jsxs)(S.m,{isFitted:!0,variant:"enclosed",colorScheme:"coffee",children:[(0,r.jsxs)(v.t,{mb:"1em",children:[(0,r.jsx)(z.O,{fontSize:"lg",py:4,color:"coffee.700",_selected:{color:"coffee.800",bg:"coffee.50",borderColor:"coffee.200"},children:"数据图表"}),(0,r.jsx)(z.O,{fontSize:"lg",py:4,color:"coffee.700",_selected:{color:"coffee.800",bg:"coffee.50",borderColor:"coffee.200"},children:"历史记录"})]}),(0,r.jsxs)(k.n,{children:[(0,r.jsx)(D.x,{children:(0,r.jsxs)(d.g,{spacing:8,children:[(0,r.jsx)(f.U,{w:"100%",justifyContent:"space-between",children:(0,r.jsxs)(w.P,{value:ee,onChange:e=>et(e.target.value),w:"200px",size:"lg",borderColor:"coffee.200",_hover:{borderColor:"coffee.300"},_focus:{borderColor:"coffee.400",boxShadow:"0 0 0 1px #B98157"},children:[(0,r.jsx)("option",{value:"7",children:"最近7天"}),(0,r.jsx)("option",{value:"14",children:"最近14天"}),(0,r.jsx)("option",{value:"30",children:"最近30天"}),(0,r.jsx)("option",{value:"90",children:"最近3个月"})]})}),(0,r.jsxs)(I.p,{w:"100%",borderWidth:1,borderRadius:"lg",p:8,bg:"rgba(255, 255, 255, 0.6)",borderColor:"coffee.100",children:[(0,r.jsxs)(M.k,{children:[(0,r.jsx)(E.d,{fontSize:"lg",color:"coffee.700",children:"总工作量"}),(0,r.jsx)(F.J,{fontSize:"md",children:(0,r.jsxs)(d.g,{align:"start",spacing:1,children:[(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"green",children:"汇款"}),(0,r.jsxs)(j.x,{children:[em.totalCounts.remittance," 笔"]})]}),(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"purple",children:"AML"}),(0,r.jsxs)(j.x,{children:[em.totalCounts.aml," 笔"]})]}),(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"orange",children:"Collect Chgs"}),(0,r.jsxs)(j.x,{children:[em.totalCounts.collectChgs," 笔"]})]})]})})]}),(0,r.jsxs)(M.k,{children:[(0,r.jsx)(E.d,{fontSize:"lg",color:"coffee.700",children:"日均工作量"}),(0,r.jsx)(F.J,{fontSize:"md",children:(0,r.jsxs)(d.g,{align:"start",spacing:1,children:[(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"green",children:"汇款"}),(0,r.jsxs)(j.x,{children:[em.avgCounts.remittance," 笔"]})]}),(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"purple",children:"AML"}),(0,r.jsxs)(j.x,{children:[em.avgCounts.aml," 笔"]})]}),(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"orange",children:"Collect Chgs"}),(0,r.jsxs)(j.x,{children:[em.avgCounts.collectChgs," 笔"]})]})]})})]}),(0,r.jsxs)(M.k,{children:[(0,r.jsx)(E.d,{fontSize:"lg",color:"coffee.700",children:"平均每笔收益"}),(0,r.jsx)(F.J,{fontSize:"md",children:(0,r.jsxs)(d.g,{align:"start",spacing:1,children:[(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"green",children:"汇款"}),(0,r.jsxs)(j.x,{children:[em.avgEarnings.remittance.toFixed(2)," 元"]})]}),(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"purple",children:"AML"}),(0,r.jsxs)(j.x,{children:[em.avgEarnings.aml.toFixed(2)," 元"]})]}),(0,r.jsxs)(f.U,{children:[(0,r.jsx)(C.C,{colorScheme:"orange",children:"Collect Chgs"}),(0,r.jsxs)(j.x,{children:[em.avgEarnings.collectChgs.toFixed(2)," 元"]})]})]})})]})]}),(0,r.jsx)(l.x,{w:"100%",h:"400px",p:4,bg:"white",borderRadius:"md",children:(0,r.jsx)(R.x1,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"工作数量趋势",font:{size:16}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return e+" 笔"}}}}},data:ed})}),(0,r.jsx)(l.x,{w:"100%",h:"400px",p:4,bg:"white",borderRadius:"md",children:(0,r.jsx)(R.$Q,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"每笔收益统计",font:{size:16}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return e+" 元"}}}}},data:ef})})]})}),(0,r.jsx)(D.x,{children:(0,r.jsx)(l.x,{w:"100%",overflowX:"auto",children:(0,r.jsxs)(_.i,{variant:"simple",size:"lg",children:[(0,r.jsx)(L.h,{children:(0,r.jsxs)(N.Tr,{bg:"coffee.50",children:[(0,r.jsx)(T.Th,{fontSize:"md",color:"coffee.700",children:"日期"}),(0,r.jsx)(T.Th,{isNumeric:!0,fontSize:"md",color:"coffee.700",children:"汇款数量"}),(0,r.jsx)(T.Th,{isNumeric:!0,fontSize:"md",color:"coffee.700",children:"AML数量"}),(0,r.jsx)(T.Th,{isNumeric:!0,fontSize:"md",color:"coffee.700",children:"Collect Chgs数量"}),(0,r.jsx)(T.Th,{isNumeric:!0,fontSize:"md",color:"coffee.700",children:"日薪（元）"}),(0,r.jsx)(T.Th,{isNumeric:!0,fontSize:"md",color:"coffee.700",children:"每笔收益（元）"}),(0,r.jsx)(T.Th,{fontSize:"md",color:"coffee.700",children:"操作"})]})}),(0,r.jsx)(A.p,{children:q.map((e,t)=>{var o,a,n,s,i,l,c,f,x;return(0,r.jsxs)(N.Tr,{bg:t%2==0?"white":"coffee.50",_hover:{bg:"coffee.100",transition:"all 0.3s"},children:[(0,r.jsx)(U.Td,{fontSize:"md",children:e.date}),(0,r.jsx)(U.Td,{isNumeric:!0,fontSize:"md",children:(null===(o=e.counts)||void 0===o?void 0:o.remittance)||0}),(0,r.jsx)(U.Td,{isNumeric:!0,fontSize:"md",children:(null===(a=e.counts)||void 0===a?void 0:a.aml)||0}),(0,r.jsx)(U.Td,{isNumeric:!0,fontSize:"md",children:(null===(n=e.counts)||void 0===n?void 0:n.collectChgs)||0}),(0,r.jsx)(U.Td,{isNumeric:!0,fontSize:"md",children:e.salary}),(0,r.jsx)(U.Td,{isNumeric:!0,fontSize:"md",children:(0,r.jsxs)(d.g,{align:"end",spacing:0,children:[(0,r.jsxs)(j.x,{children:["汇款：",(null===(i=e.perItemEarning)||void 0===i?void 0:null===(s=i.remittance)||void 0===s?void 0:s.toFixed(2))||"0.00"]}),(0,r.jsxs)(j.x,{children:["AML：",(null===(c=e.perItemEarning)||void 0===c?void 0:null===(l=c.aml)||void 0===l?void 0:l.toFixed(2))||"0.00"]}),(0,r.jsxs)(j.x,{children:["Collect Chgs：",(null===(x=e.perItemEarning)||void 0===x?void 0:null===(f=x.collectChgs)||void 0===f?void 0:f.toFixed(2))||"0.00"]})]})}),(0,r.jsx)(U.Td,{children:(0,r.jsx)(m.z,{colorScheme:"red",size:"sm",onClick:()=>handleDeleteRecord(e.timestamp),opacity:.8,_hover:{opacity:1},children:"删除"})})]},e.timestamp)})})]})})})]})]})]})]}),(0,r.jsx)(l.x,{position:"fixed",top:"20px",right:"20px",width:"280px",zIndex:10,bg:"white",p:4,rounded:"lg",boxShadow:"lg",display:{base:"none",lg:"block"},borderWidth:"1px",borderColor:"coffee.200",className:"calendar-container",children:(0,r.jsxs)(d.g,{spacing:2,mb:2,align:"center",children:[(0,r.jsxs)(f.U,{children:[(0,r.jsx)(CoffeeIcon,{boxSize:6,className:"wiggle-animation"}),(0,r.jsx)(x.X,{size:"sm",color:"coffee.700",children:"日曆"})]}),(0,r.jsx)(()=>(0,r.jsxs)(d.g,{spacing:2,align:"stretch",children:[(0,r.jsxs)(f.U,{w:"100%",justifyContent:"space-between",mb:2,children:[(0,r.jsx)(m.z,{size:"sm",onClick:()=>handleMonthChange(-1),bg:"coffee.100",color:"coffee.700",_hover:{bg:"coffee.200"},children:"上个月"}),(0,r.jsxs)(x.X,{size:"sm",color:"coffee.800",children:[ea.getFullYear(),"年",ea.getMonth()+1,"月"]}),(0,r.jsx)(m.z,{size:"sm",onClick:()=>handleMonthChange(1),bg:"coffee.100",color:"coffee.700",_hover:{bg:"coffee.200"},children:"下个月"})]}),(0,r.jsxs)(h.M,{columns:7,spacing:1,w:"100%",children:[["一","二","三","四","五","六","日"].map(e=>(0,r.jsx)(g.M,{py:1,fontSize:"xs",bg:"coffee.50",color:"coffee.700",children:e},e)),generateCalendarDays().map((e,t)=>{let o=V[e.dateStr];return(0,r.jsx)(p.u,{label:o||(e.isHoliday?"个人休假日":""),isDisabled:!e.isHoliday,children:(0,r.jsx)(g.M,{py:1,cursor:"pointer",onClick:()=>handleDateClick(e.date),bg:e.isHoliday?"red.100":e.isCurrentMonth?"white":"coffee.50",opacity:e.isCurrentMonth?1:.5,borderWidth:1,borderColor:"coffee.100",fontSize:"xs",_hover:{bg:e.isHoliday?"red.200":"coffee.100"},children:e.date.getDate()})},t)})]})]}),{}),(0,r.jsx)(j.x,{fontSize:"xs",color:"gray.600",children:"点击日期可以标记/取消标记为休息日"}),(0,r.jsx)(j.x,{fontSize:"xs",color:"coffee.500",children:"鼠标悬停可查看假期名称"}),(0,r.jsx)(j.x,{fontSize:"xs",color:"coffee.600",fontStyle:"italic",mt:2,children:"☕ 每天一杯咖啡，工作效率加倍"})]})})]})]})]})}}},function(e){e.O(0,[196,658,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);